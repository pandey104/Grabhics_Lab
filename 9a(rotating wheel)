#include <glut.h>
#include <math.h>
float t=0,t1=360;
float xc=0,yc=0,r=0.5,i=-0.5;
void disp()
{
glClear(GL_COLOR_BUFFER_BIT);
glClearColor(1,1,1,1);
glColor3f(0,0,1);
for(t=0;t<360;t=t+0.001)
{
glBegin(GL_POINTS);
glVertex2f((xc+i+r*cos(t)),(yc+r*sin(t)));
glEnd();
}
glBegin(GL_LINES);
glVertex2f(i+cos(t1)/2,sin(t1)/2);
glVertex2f(-cos(t1)/2+i,-sin(t1)/2);
glVertex2f(sin(t1)/2+i,-cos(t1)/2);
glVertex2f(-sin(t1)/2+i,cos(t1)/2);
glEnd();
glFlush();
}
void idle()
{
if(i<1)
i=i+0.05;
else
i=-0.5;
t1-=0.01;
disp();
}
void main()
{
glutInitWindowPosition(0,0);
glutInitWindowSize(800,800);glutCreateWindow("wheel rotation");
glutDisplayFunc(disp);
glutIdleFunc(idle);
glutMainLoop();
}
